<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.myLife.system.security.dao.IUserDao">
<!-- 	结果映射集合 -->
	<resultMap type="User" id="userResultMap">
		<id property="uId" column="uId" />
		<result property="uNickName" column="uNickName" />
		<result property="uName" column="uName" />
		<result property="uPhone" column="uPhone" />
		<result property="uEmail" column="uEmail" />
		<result property="uPassword" column="uPassword" />
		<result property="uTrueName" column="uTrueName" />
	</resultMap>

<!-- 	通过用户ID查询用户 -->
    <select id="findById" parameterType="int" resultMap="userResultMap">
       select * from tb_user where uId=#{userId}
    </select>
    
<!--    查询用户列表 -->
    <select id="findList" parameterType="User" resultMap="userResultMap">
    	select * from tb_user where 
    	<if test="uName != null">
    		uName = #{uName}
    	</if>
    </select>
        
<!-- 	添加用户 -->
    <insert id="insert" keyProperty="uId" parameterType="User">
    	insert into tb_user (uId,uNickName,uName,uPhone,uEmail,uPassword,uTrueName,uCreateTime) 
    	value(#{uId},#{uNickName},#{uName},#{uPhone},#{uEmail},MD5(#{uPassword}),#{uTrueName},now())
    </insert>
    
    
    
   
   	
   
   
   

</mapper>