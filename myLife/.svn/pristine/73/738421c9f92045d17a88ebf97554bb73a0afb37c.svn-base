package com.myLife.system.security.service.impl;

import javax.servlet.http.HttpServletRequest;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;

import com.myLife.system.component.email.JavaMail;
import com.myLife.system.security.service.IRegisterService;
import com.myLife.tools.EncryptionTool;
import com.myLife.tools.SystemUtil;

@Service
public class RegisterServiceImpl implements IRegisterService {
	
	@Autowired
	private JavaMail jm;
	
	
	@Override
	public String sendEmail(String uEmail, HttpServletRequest request) {
		
		String vNumber = SystemUtil.ValidateNumber();
		String sendMessage = "验证码：<b>"+vNumber+"</b>";
		jm.doSendMail("注册验证码", sendMessage, uEmail);
		request.getSession().setAttribute("vnum", EncryptionTool.shaEncode(vNumber));
		return null;
	}

	

}
