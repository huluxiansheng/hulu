<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.myLife.system.security.dao.IUserDao">
<!-- 	结果映射集合 -->
	<resultMap type="User" id="userResultMap">
		<id property="userId" column="uId" />
		<result property="userNickName" column="uNickName" />
		<result property="userName" column="uName" />
		<result property="userPhone" column="uPhone" />
		<result property="userEmail" column="uEmail" />
		<result property="userPassword" column="uPassword" />
		<result property="userTrueName" column="uTrueName" />
		<result property="userCreateTime" column="uCreateTime" />
	</resultMap>

<!-- 	通过用户ID查询用户 -->
    <select id="findById" parameterType="int" resultMap="userResultMap">
       select * from tb_user where uId=#{userId}
    </select>
    
<!--    查询用户列表 -->
    <select id="findList" parameterType="User" resultMap="userResultMap">
    	select * from tb_user 
    	<where>
	    	<if test="userName != null">
	    		uName = #{userName}
	    	</if>
    	</where>
    </select>
        
<!-- 	添加用户 -->
    <insert id="insert" keyProperty="uId" parameterType="User">
    	insert into tb_user (uId,uNickName,uName,uPhone,uEmail,uPassword,uTrueName,uCreateTime) 
    	value(#{userId},#{userNickName},#{userName},#{userPhone},#{userEmail},#{userPassword},#{userTrueName},now())
    </insert>
    
    
    
   <delete id="deleteById" parameterType="int">
   		delete from tb_user where uId = #{userId}
   </delete>
   	
   
   
   

</mapper>